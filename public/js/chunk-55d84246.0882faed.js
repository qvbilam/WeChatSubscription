(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55d84246"],{"0d4a":function(e,t,n){},3607:function(e,t,n){"use strict";n.r(t);var a,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"field-group"},[n("van-cell-group",{attrs:{border:!1}},[n("van-field",{staticClass:"field",attrs:{label:"+86",placeholder:"请输入手机号","input-align":"left",type:"number",center:"",clearable:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}},[n("p",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[e._v("+86")])]),n("van-field",{staticClass:"field",attrs:{type:"number",center:"",clearable:"","input-align":"left",placeholder:"验证码"},model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}},[n("van-button",{class:e.smsClass,attrs:{slot:"button",disable:!e.sending,size:"small",type:"primary"},on:{click:e.onSms},slot:"button"},[e._v(e._s(e.sendingText)+"\n                ")])],1)],1)],1),n("van-button",{staticClass:"confirm",on:{click:e.onSubmit}},[e._v("下一步")])],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("h1",[e._v("Hello,")]),n("p",{staticClass:"title"},[e._v("请认证您的信息")])])}],o=(n("e7e5"),n("d399")),r=n("c93e"),c=n("a322"),l=(n("66b9"),n("b650")),u=(n("be7f"),n("565f")),f=(n("be39"),n("efa0")),d=(n("0653"),n("34e9")),m=(n("7f7f"),n("66cf"),n("343b")),h=(n("cadf"),n("551c"),n("097d"),n("460a")),p=n("a49b"),b=n("1f75"),v={components:(a={},Object(c["a"])(a,m["a"].name,m["a"]),Object(c["a"])(a,d["a"].name,d["a"]),Object(c["a"])(a,f["a"].name,f["a"]),Object(c["a"])(a,u["a"].name,u["a"]),Object(c["a"])(a,l["a"].name,l["a"]),a),data:function(){return{sending:!1,sendingText:"发验证码",time:0,data:{},phone:"",sms:"",from:""}},computed:{smsClass:function(){return this.sending?"sms disable":"sms"}},methods:{onSubmit:function(){var e=this,t={phone:this.phone,code:this.sms,tags:1,openId:this.data.openid};Object(b["b"])(p["e"],t,function(t){var n=Object(r["a"])({},t,{openId:e.data.openid});h["a"].save(n),e.$router.push({name:"extra",query:{from:e.from}})})},onSms:function(){if(!this.sending){this.sending=!0,this.time=35,this.timer();var e=1,t={phone:this.phone,tags:e};Object(b["b"])(p["c"],t)}},timer:function(){this.time>0?(this.time--,this.sendingText=this.time+"",setTimeout(this.timer,1e3)):(this.time=0,this.sendingText="发验证码",this.sending=!1)},verifyData:function(e){this.data=e,4===e.status?this.$router.push({name:"info",query:{from:this.from}}):3===e.status&&this.$router.push({name:"extra",query:{from:this.from}})}},created:function(){var e=this;this.from=this.$route.query.from;var t=h["a"].fetch();if(t&&t.hasOwnProperty("openid"))if(this.data=t,t.hasOwnProperty("id"))this.verifyData(t);else{var n={openId:t.openid};Object(b["b"])(p["f"],n,function(n){var a=n;a.openid=t.openid,h["a"].save(a),e.verifyData(a)})}else{var a=this.$route.query.code;if(window.console.log("route",this.$route.query),a){var s={code:a};Object(b["a"])(p["g"],s,function(n){e.data.openid=n.openId,h["a"].save(t),Object(b["b"])(p["f"],s,function(n){var a=n;a.openid=t.openid,h["a"].save(a),e.verifyData(a)})})}else o["a"].fail("无法获得授权信息，请退出重试")}}},y=v,g=(n("b661"),n("2877")),O=Object(g["a"])(y,s,i,!1,null,null,null);O.options.__file="index.vue";t["default"]=O.exports},b661:function(e,t,n){"use strict";var a=n("0d4a"),s=n.n(a);s.a},c93e:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("a322");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){Object(a["a"])(e,t,n[t])})}return e}}}]);
//# sourceMappingURL=chunk-55d84246.0882faed.js.map