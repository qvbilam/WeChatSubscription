(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a6af391"],{"0d4a":function(e,t,a){},3607:function(e,t,a){"use strict";a.r(t);var n,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"field-group"},[a("van-cell-group",{attrs:{border:!1}},[a("van-field",{staticClass:"field",attrs:{label:"+86",placeholder:"请输入手机号","input-align":"left",type:"number",center:"",clearable:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}},[a("p",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[e._v("+86")])]),a("van-field",{staticClass:"field",attrs:{type:"number",center:"",clearable:"","input-align":"left",placeholder:"验证码"},model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}},[a("van-button",{class:e.smsClass,attrs:{slot:"button",disable:!e.sending,size:"small",type:"primary"},on:{click:e.onSms},slot:"button"},[e._v(e._s(e.sendingText)+"\n                ")])],1)],1)],1),a("van-button",{staticClass:"confirm",on:{click:e.onSubmit}},[e._v("下一步")])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("h1",[e._v("Hello,")]),a("p",{staticClass:"title"},[e._v("请认证您的信息")])])}],o=(a("e7e5"),a("d399")),r=a("a322"),l=(a("66b9"),a("b650")),c=(a("be7f"),a("565f")),d=(a("be39"),a("efa0")),f=(a("0653"),a("34e9")),h=(a("7f7f"),a("66cf"),a("343b")),u=(a("cadf"),a("551c"),a("097d"),a("460a")),m=a("a49b"),p=a("1f75"),b={components:(n={},Object(r["a"])(n,h["a"].name,h["a"]),Object(r["a"])(n,f["a"].name,f["a"]),Object(r["a"])(n,d["a"].name,d["a"]),Object(r["a"])(n,c["a"].name,c["a"]),Object(r["a"])(n,l["a"].name,l["a"]),n),data:function(){return{sending:!1,sendingText:"发验证码",time:0,data:{},phone:"",sms:"",from:""}},computed:{smsClass:function(){return this.sending?"sms disable":"sms"}},methods:{onSubmit:function(){var e=this;if(this.phone)if(this.sms){var t={phone:this.phone,code:this.sms,tags:1,openId:this.data.openid};Object(p["b"])(m["e"],t,function(){var t={openId:e.data.openid,showFailInfo:!1};Object(p["b"])(m["f"],t,function(t){var a=t;a.openid=e.data.openid,u["a"].save(a),e.verifyData(a)})})}else Object(o["a"])("请输入验证码");else Object(o["a"])("请输入手机号")},onSms:function(){if(this.phone){if(!this.sending){this.sending=!0,this.time=35,this.timer();var e=1,t={phone:this.phone,tags:e};Object(p["b"])(m["c"],t)}}else Object(o["a"])("请输入手机号")},timer:function(){this.time>0?(this.time--,this.sendingText=this.time+"",setTimeout(this.timer,1e3)):(this.time=0,this.sendingText="发验证码",this.sending=!1)},verifyData:function(e){this.data=e,e.status>=3?this.$router.push({name:"info",query:{from:this.from}}):this.$router.push({name:"extra",query:{from:this.from}})}},created:function(){var e=this;this.from=this.$route.query.from,window.console.log("from",this.from);var t=u["a"].fetch();if(this.from&&o["a"].fail("请先进行注册"),t&&t.hasOwnProperty("openid")){this.data=t;var a={openId:t.openid,showFailInfo:!1};Object(p["b"])(m["f"],a,function(t){var a=t;a.openid=e.data.openid,u["a"].save(a),e.verifyData(a)})}else{var n=u["a"].urlParam("code");if(n){var s={code:n};Object(p["a"])(m["g"],s,function(a){e.data.openid=a.openId,u["a"].save(t),window.console.log(a,"fetch openid",e.data);var n={openId:e.data.openid};Object(p["b"])(m["f"],n,function(t){var a=t;a.openid=e.data.openid,u["a"].save(a),e.verifyData(a)})})}else o["a"].fail("无法获得授权信息，请退出重试")}}},v=b,g=(a("b661"),a("2877")),O=Object(g["a"])(v,s,i,!1,null,null,null);O.options.__file="index.vue";t["default"]=O.exports},b661:function(e,t,a){"use strict";var n=a("0d4a"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-6a6af391.53546978.js.map