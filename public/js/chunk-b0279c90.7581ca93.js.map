{"version":3,"sources":["webpack:///./src/view/bind/index.vue?37f1","webpack:///src/view/bind/index.vue","webpack:///./src/view/bind/index.vue?5029","webpack:///./src/view/bind/index.vue","webpack:///./src/view/bind/index.vue?0a1c","webpack:///./node_modules/@babel/runtime/helpers/builtin/es6/objectSpread.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","border","label","placeholder","input-align","type","center","clearable","model","value","callback","$$v","phone","expression","slot","_v","sms","class","smsClass","disable","sending","size","on","click","onSms","_s","sendingText","onSubmit","staticRenderFns","bindvue_type_script_lang_js_","components","_components","Object","defineProperty","lazyload","name","cell_group","submit_bar","field","es_button","data","time","from","computed","methods","_this","params","code","tags","openId","openid","http","config","res","objectSpread","storage","save","$router","push","query","toast","timer","setTimeout","verifyData","status","created","_this2","$route","window","console","log","fetch","fail","hasOwnProperty","resData","urlParam","_params","param","view_bindvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","d","_objectSpread","_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key"],"mappings":"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","file":"js/chunk-b0279c90.7581ca93.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),_c('div',{staticClass:\"field-group\"},[_c('van-cell-group',{attrs:{\"border\":false}},[_c('van-field',{staticClass:\"field\",attrs:{\"label\":\"+86\",\"placeholder\":\"请输入手机号\",\"input-align\":\"left\",\"type\":\"number\",\"center\":\"\",\"clearable\":\"\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}},[_c('p',{staticClass:\"label\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"+86\")])]),_c('van-field',{staticClass:\"field\",attrs:{\"type\":\"number\",\"center\":\"\",\"clearable\":\"\",\"input-align\":\"left\",\"placeholder\":\"验证码\"},model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}},[_c('van-button',{class:_vm.smsClass,attrs:{\"slot\":\"button\",\"disable\":!_vm.sending,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.onSms},slot:\"button\"},[_vm._v(_vm._s(_vm.sendingText)+\"\\n                \")])],1)],1)],1),_c('van-button',{staticClass:\"confirm\",on:{\"click\":_vm.onSubmit}},[_vm._v(\"下一步\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('h1',[_vm._v(\"Hello,\")]),_c('p',{staticClass:\"title\"},[_vm._v(\"请认证您的信息\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>Hello,</h1>\n            <p class=\"title\">请认证您的信息</p>\n        </div>\n\n        <div class=\"field-group\">\n            <van-cell-group :border=\"false\">\n                <van-field class=\"field\"\n                           v-model=\"phone\"\n                           label=\"+86\"\n                           placeholder=\"请输入手机号\"\n                           input-align=\"left\"\n                           type=\"number\"\n                           center\n                           clearable\n                >\n                    <p class=\"label\" slot=\"label\">+86</p>\n                </van-field>\n                <van-field class=\"field\"\n                           v-model=\"sms\"\n                           type=\"number\"\n                           center\n                           clearable\n                           input-align=\"left\"\n                           placeholder=\"验证码\"\n                >\n                    <van-button :class=\"smsClass\" :disable=\"!sending\" @click=\"onSms\" slot=\"button\" size=\"small\"\n                                type=\"primary\">{{sendingText}}\n                    </van-button>\n                </van-field>\n            </van-cell-group>\n        </div>\n\n        <van-button @click=\"onSubmit\" class=\"confirm\">下一步</van-button>\n\n    </div>\n</template>\n\n<script>\n    import {Lazyload, CellGroup, Field, SubmitBar, Button} from 'vant';\n    import store from '../../storage'\n    import {FETCH_OPENID, DRIVER_VERIFY, CHECK_CODE, DRIVER_AUTH} from '../../common/config'\n    import {get, post} from '../../common/http'\n    import {Toast} from 'vant';\n\n    export default {\n        components: {\n            [Lazyload.name]: Lazyload,\n            [CellGroup.name]: CellGroup,\n            [SubmitBar.name]: SubmitBar,\n            [Field.name]: Field,\n            [Button.name]: Button\n        },\n\n        data() {\n            return {\n                sending: false,\n                sendingText: '发验证码',\n                time: 0,\n                data: {},\n                phone: '',\n                sms: '',\n                from: ''\n            };\n        },\n\n        computed: {\n            smsClass() {\n                if (!this.sending) {\n                    return 'sms'\n                } else {\n                    return 'sms disable'\n                }\n            }\n        },\n\n        methods: {\n            onSubmit() {\n                if (!this.phone) {\n                    Toast('请输入手机号')\n                    return\n                }\n                if (!this.sms) {\n                    Toast('请输入验证码')\n                    return\n                }\n                const params = {phone: this.phone, code: this.sms, tags: 1, openId: this.data.openid}\n                post(DRIVER_AUTH, params, res => {\n                    let data = {...res, openId: this.data.openid}\n                    store.save(data)\n                    this.$router.push({name: 'extra', query: {from: this.from}})\n                })\n            },\n            onSms() {\n                if (!this.phone) {\n                    Toast('请输入手机号')\n                    return\n                }\n                if (!this.sending) {\n                    this.sending = true;\n                    this.time = 35;\n                    this.timer();\n                    const tags = 1\n                    const params = {phone: this.phone, tags}\n                    post(CHECK_CODE, params)\n                }\n            },\n            timer() {\n                if (this.time > 0) {\n                    this.time--;\n                    this.sendingText = this.time + \"\";\n                    setTimeout(this.timer, 1000);\n                } else {\n                    this.time = 0;\n                    this.sendingText = \"发验证码\";\n                    this.sending = false\n                }\n            },\n            verifyData(data) {\n                this.data = data\n                if (data.status === 4) {\n                    // info\n                    this.$router.push({name: 'info', query: {from: this.from}})\n                } else if (data.status === 3) {\n                    // extra\n                    this.$router.push({name: 'extra', query: {from: this.from}})\n                }\n            }\n        },\n        created() {\n            this.from = this.$route.query.from\n            window.console.log('from', this.from)\n            const data = store.fetch()\n            if (this.from) {\n                Toast.fail(\"请先进行注册\")\n            }\n            if (data && data.hasOwnProperty(\"openid\")) {\n                this.data = data\n                // if (data.hasOwnProperty(\"id\")) {\n                //     this.verifyData(data)\n                // } else {\n                const params = {openId: data.openid}\n                post(DRIVER_VERIFY, params, res => {\n                    let resData = res;\n                    resData.openid = this.data.openid\n                    store.save(resData)\n                    this.verifyData(resData)\n                })\n                // }\n            } else {\n                const code = store.urlParam('code')\n                if (code) {\n                    const params = {code}\n                    get(FETCH_OPENID, params, res => {\n                        this.data.openid = res.openId;\n                        store.save(data)\n                        window.console.log(res, 'fetch openid', this.data)\n                        let param = {openId: this.data.openid}\n                        //let param = {openId: 'oqZWxxPpZ6IRbjheJby5mSGNkI6w'}\n                        post(DRIVER_VERIFY, param, res => {\n                            let resData = res;\n                            resData.openid = this.data.openid\n                            store.save(resData)\n                            this.verifyData(resData)\n                        })\n                    });\n                } else {\n                    Toast.fail(\"无法获得授权信息，请退出重试\")\n                }\n            }\n\n        }\n\n    }\n</script>\n\n<style lang=\"less\">\n\n    @import \"../../assets/common.less\";\n\n    .field-group {\n        padding: 0.82rem;\n        .label {\n            /*width: 0.59rem;*/\n            font-size: 0.34rem;\n            font-weight: normal;\n            font-stretch: normal;\n            letter-spacing: 0px;\n            color: #4e4e4e;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=03252623&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}"],"sourceRoot":""}