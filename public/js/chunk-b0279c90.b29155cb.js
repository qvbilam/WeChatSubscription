(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0279c90"],{"0d4a":function(e,t,a){},3607:function(e,t,a){"use strict";a.r(t);var n,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"field-group"},[a("van-cell-group",{attrs:{border:!1}},[a("van-field",{staticClass:"field",attrs:{label:"+86",placeholder:"请输入手机号","input-align":"left",type:"number",center:"",clearable:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}},[a("p",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[e._v("+86")])]),a("van-field",{staticClass:"field",attrs:{type:"number",center:"",clearable:"","input-align":"left",placeholder:"验证码"},model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}},[a("van-button",{class:e.smsClass,attrs:{slot:"button",disable:!e.sending,size:"small",type:"primary"},on:{click:e.onSms},slot:"button"},[e._v(e._s(e.sendingText)+"\n                ")])],1)],1)],1),a("van-button",{staticClass:"confirm",on:{click:e.onSubmit}},[e._v("下一步")])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("h1",[e._v("Hello,")]),a("p",{staticClass:"title"},[e._v("请认证您的信息")])])}],o=a("c93e"),r=(a("e7e5"),a("d399")),c=a("a322"),l=(a("66b9"),a("b650")),f=(a("be7f"),a("565f")),u=(a("be39"),a("efa0")),d=(a("0653"),a("34e9")),m=(a("7f7f"),a("66cf"),a("343b")),h=(a("cadf"),a("551c"),a("097d"),a("460a")),p=a("a49b"),b=a("1f75"),v={components:(n={},Object(c["a"])(n,m["a"].name,m["a"]),Object(c["a"])(n,d["a"].name,d["a"]),Object(c["a"])(n,u["a"].name,u["a"]),Object(c["a"])(n,f["a"].name,f["a"]),Object(c["a"])(n,l["a"].name,l["a"]),n),data:function(){return{sending:!1,sendingText:"发验证码",time:0,data:{},phone:"",sms:"",from:""}},computed:{smsClass:function(){return this.sending?"sms disable":"sms"}},methods:{onSubmit:function(){var e=this;if(this.phone)if(this.sms){var t={phone:this.phone,code:this.sms,tags:1,openId:this.data.openid};Object(b["b"])(p["e"],t,function(t){var a=Object(o["a"])({},t,{openId:e.data.openid});h["a"].save(a),e.$router.push({name:"extra",query:{from:e.from}})})}else Object(r["a"])("请输入验证码");else Object(r["a"])("请输入手机号")},onSms:function(){if(this.phone){if(!this.sending){this.sending=!0,this.time=35,this.timer();var e=1,t={phone:this.phone,tags:e};Object(b["b"])(p["c"],t)}}else Object(r["a"])("请输入手机号")},timer:function(){this.time>0?(this.time--,this.sendingText=this.time+"",setTimeout(this.timer,1e3)):(this.time=0,this.sendingText="发验证码",this.sending=!1)},verifyData:function(e){this.data=e,e.status>=3?this.$router.push({name:"info",query:{from:this.from}}):this.$router.push({name:"extra",query:{from:this.from}})}},created:function(){var e=this;this.from=this.$route.query.from,window.console.log("from",this.from);var t=h["a"].fetch();if(this.from&&r["a"].fail("请先进行注册"),t&&t.hasOwnProperty("openid")){this.data=t;var a={openId:t.openid};Object(b["b"])(p["f"],a,function(t){var a=t;a.openid=e.data.openid,h["a"].save(a),e.verifyData(a)})}else{var n=h["a"].urlParam("code");if(n){var s={code:n};Object(b["a"])(p["g"],s,function(a){e.data.openid=a.openId,h["a"].save(t),window.console.log(a,"fetch openid",e.data);var n={openId:e.data.openid};Object(b["b"])(p["f"],n,function(t){var a=t;a.openid=e.data.openid,h["a"].save(a),e.verifyData(a)})})}else r["a"].fail("无法获得授权信息，请退出重试")}}},O=v,g=(a("b661"),a("2877")),j=Object(g["a"])(O,s,i,!1,null,null,null);j.options.__file="index.vue";t["default"]=j.exports},b661:function(e,t,a){"use strict";var n=a("0d4a"),s=a.n(n);s.a},c93e:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a("a322");function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),s.forEach(function(t){Object(n["a"])(e,t,a[t])})}return e}}}]);
//# sourceMappingURL=chunk-b0279c90.b29155cb.js.map